var _ADMIN_CUSTOM_FORMS_EDIT;_ADMIN_CUSTOM_FORMS_EDIT=function(){var e=this;return e.tplField=$("#template-field").html(),e.tplOptionContainer=$("#template-field-option-container").html(),e.tplOption=$("#template-field-option").html(),e.fieldCount=0,e.__construct=function(){$("#field-do-send-thankyou").on("toggle",function(t,n){e.fieldDoSendThankYou(n)}),$("#form-fields").on("change",".field-type",function(){e.fieldTypeChanged($(this))}),$("#form-fields").on("change",".field-default",function(){e.fieldDefaultChanged($(this))}),$("#add-field").on("click",function(){return e.addField(),!1}),$("#form-fields").on("click",".remove-field",function(){return e.removeField($(this)),!1}),$(document).on("click",".add-option",function(){e.addOption($(this))}),$(document).on("click",".remove-option",function(){return e.removeOption($(this)),!1}),$("#main-form").on("submit",function(){return e.validate()}),e.fieldDoSendThankYou($("#field-do-send-thankyou input[type=checkbox]").is(":checked")),$("#form-fields td.type .field-type, #form-fields td.default .field-default").each(function(){$(this).trigger("change")}),e.fieldCount=$("#form-fields tbody tr").length-1,$("#form-fields tbody").sortable({handle:".handle",axis:"y",containment:"parent",placeholder:"placeholder",helper:function(e,t){var n=t.children(),i=t.clone();return i.children().each(function(e){$(this).width(n.eq(e).outerWidth())}),i.css({"margin-left":"-1px","box-shadow":"0px 2px 5px rgba(0, 0, 0, 0.25)"}),i},start:function(e,t){t.placeholder.height(t.helper.outerHeight())}})},e.fieldDoSendThankYou=function(e){e?$("#send-thankyou-options").show():$("#send-thankyou-options").hide(),"function"==typeof _nails&&_nails.addStripes()},e.addField=function(){e.fieldCount++;var t,n;n={fieldNumber:e.fieldCount},t=Mustache.render(e.tplField,n),$("#form-fields tbody").append(t),t=Mustache.render(e.tplOptionContainer,n),$("#field-options").append(t),$("#form-fields tbody tr").last().find(".select2").select2()},e.removeField=function(e){var t=e.data("field-number");e.closest("tr").remove(),$("#form-field-options-"+t).remove()},e.addOption=function(t){var n,i,o;n=t.parent().parent().find("table"),o={fieldNumber:t.data("field-number"),optionNumber:n.data("option-count")||0},i=Mustache.render(e.tplOption,o),$("#form-field-options-"+o.fieldNumber+" tbody").append(i),n.data("option-count",o.optionNumber+1),$.fancybox.update()},e.removeOption=function(e){e.closest("tr").remove(),$.fancybox.update()},e.fieldTypeChanged=function(e){switch(e.val()){case"SELECT":case"RADIOS":case"CHECKBOX":e.siblings("a").addClass("is-active");break;default:e.siblings("a").removeClass("is-active")}},e.fieldDefaultChanged=function(e){switch(e.val()){case"CUSTOM":e.siblings("input").addClass("is-active");break;default:e.siblings("input").removeClass("is-active")}},e.validate=function(){return!0},e.__construct()}();
//# sourceMappingURL=admin.form.edit.min.js.map
